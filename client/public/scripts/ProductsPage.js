const data = [
    {
      id: 1,
      name: "Lakers",
      img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,b_rgb:f5f5f5/9acdb733-1ae2-4e49-8268-399c0cc4b46e/los-angeles-lakers-icon-edition-2022-23-dri-fit-nba-swingman-jersey-h7dqgF.png",
      amt: 30,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "S",
    },
  
    {
      id: 2,
      name: "warriors",
  img: "https://encrypted-tbn3.gstatic.com/shopping?q=tbn:ANd9GcQQUbs4R2JKVu1KHbE6Akc7tp2pU2mK7JJ5zXFXcNifCghQRD-h7rP5krXjo91c49IhEOAmCL1-B7khzVxoWezDGXyyBIt9RcfiT83spAiPcPuTsnERz_5l3g&usqp=CAc",
      amt: 50,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "M",
    },
  
    {
      id: 3,
      name: "celtics",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/85026305-2f00-445b-8945-dba60eee11a7/boston-celtics-icon-edition-2022-23-dri-fit-nba-swingman-jersey-JZM4Sm.png",  
    amt: 50,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "M",
    },
    {
      id: 4,
      name: "hawks",
  img: "https://feeds.frgimages.com/ss4/https://feeds.frgimages.com/ss4/altimages/ss4/p-12016326_u-wpb520mbaywer3twtz0e_v-b2380e4ff99443708ed851a6e11ca13c.jpg?_hv=3",  
    amt: 50,
    // <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
    {
      id: 5,
      name: "nets",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/e724dea5-75e3-4bf6-8e35-9392b0481fa3/brooklyn-nets-icon-edition-nba-swingman-shorts-8sXlNt.png",  
    amt: 65,
    // <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
  
    {
      id: 6,
      name: "hornets",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/792eab61-48be-483c-a040-53e58b389ea0/hornets-icon-edition-2020-mens-jordan-nba-swingman-shorts-SW2WwW.png", 
     amt: 75,
      //<!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "L",
    },
  
    {
      id: 7,
      name: "bulls",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/a7be2ef6-bd71-427c-ab6c-473280880f1b/chicago-bulls-icon-edition-nba-swingman-shorts-zj9gxC.png", 
     amt: 100,
    //  <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
    {
      id: 8,
      name: "cavaliers",
  img: "https://lh5.ggpht.com/-Qr1_kGEjjkU/U9NBLuFXGTI/AAAAAAADzug/mc_jxz9XAC0/s600/nike-zoom-soldier-8-id-options-preview-1-01.jpg",  
    amt: 100,
     // <!-- team: "Lakers",-->
      catagory: "Shoes",
      size: "L",
    },
    {
      id: 9,
      name: "mavericks",
  img: "https://cdn.vox-cdn.com/thumbor/OAwxGScLoM-H3G37RBvtLLQGOww=/0x0:3354x2236/1200x800/filters:focal(1500x962:2036x1498)/cdn.vox-cdn.com/uploads/chorus_image/image/65953715/usa_today_13795240.0.jpg", 
     amt: 150,
      //<!-- team: "Lakers",-->
      catagory: "Shoes",
      size: "L",
    },
  
    {
      id: 10,
      name: "nuggets",
  img: "https://a57.foxsports.com/statics.foxsports.com/www.foxsports.com/content/uploads/2020/02/1408/814/4d58b182-9184809-emmanuel-mudiay-nba-sacramento-kings-denver-nuggets.jpg?ve=1&tl=1", 
     amt: 150,
     // <!-- team: "Lakers",-->,
      catagory: "Shoes",
      size: "S",
    },
    {
      id: 11,
      name: "pistons",
      img: "https://images.footballfanatics.com/detroit-pistons/detroit-pistons-dennis-rodman-1988-hardwood-classics-road-swingman-jersey-by-mitchell-and-ness-royal-mens_ss4_p-11908837+pv-2+u-fu8eds6jlnoibwno0uhk+v-bfd1a6f600194fb2b24d537a9f65131b.jpg?_hv=2&w=600",
      amt: 30,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "S",
    },
  
    {
      id: 12,
      name: "rockets",
  img: "https://rocketsshop.com/cdn/shop/files/2023-24JabariSmithIconfrontv2_480x480.png?v=1683818053",
      amt: 50,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "M",
    },
  
    {
      id: 13,
      name: "pacers",
  img: "https://www.pacersteamstore.com/cdn/shop/products/9930300569-9930300574-_1.jpg?v=1673377366",  
    amt: 50,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "M",
    },
    {
      id: 14,
      name: "clippers",
  img: "https://static.mitchellandness.com/media/catalog/product/cache/d60d2a6073e369a1f5c25b7852c8ea96/s/h/shordl20005-lacroya84_1.jpg",  
    amt: 50,
    // <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
    {
      id: 15,
      name: "grizzlies",
  img: "https://i.ebayimg.com/images/g/JLcAAOSwN4FeIdmg/s-l1200.jpg",  
    amt: 65,
    // <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
  
    {
      id: 16,
      name: "heat",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/eb0db249-c0e2-421b-a9a4-7dbb2dc5cdff/miami-heat-icon-edition-nba-swingman-shorts-RDBrz2.png", 
     amt: 75,
      //<!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "L",
    },
  
    {
      id: 17,
      name: "bucks",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/rsubyh7pca9tq5ahzqts/milwaukee-bucks-icon-edition-nba-swingman-shorts-SZqPVC.png", 
     amt: 100,
    //  <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
    {
      id: 18,
      name: "timberwolves",
  img: "https://images2.minutemediacdn.com/image/fetch/https%3A%2F%2Ffansided.com%2Fwp-content%2Fuploads%2Fgetty-images%2F2018%2F02%2F913978252-new-orleans-pelicans-v-minnesota-timberwolves.jpg.jpg",  
    amt: 100,
     // <!-- team: "Lakers",-->
      catagory: "Shoes",
      size: "L",
    },
    {
      id: 19,
      name: "pelicans",
  img: "https://img.fruugo.com/product/5/22/890367225_max.jpg", 
     amt: 150,
      //<!-- team: "Lakers",-->
      catagory: "Shoes",
      size: "L",
    },
  
    {
      id: 20,
      name: "knicks",
  img: "https://a.espncdn.com/photo/2011/0421/ny_melo_shoe1_576.jpg", 
     amt: 150,
     // <!-- team: "Lakers",-->,
      catagory: "Shoes",
      size: "S",
    },
  {
      id: 21,
      name: "thunder",
      img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/dbfefaa2-eb1a-4218-9185-436f0951c193/oklahoma-city-thunder-icon-edition-2022-23-dri-fit-nba-swingman-jersey-qq3CN7.png",
      amt: 30,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "S",
    },
  
    {
      id: 22,
      name: "magic",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/22a02269-ae4c-40aa-a6fd-b4e1a3bc8e32/orlando-magic-icon-edition-2022-23-dri-fit-nba-swingman-jersey-2qRfvN.png",
      amt: 50,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "M",
    },
  
    {
      id: 23,
      name: "sixers",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/483cca5b-e072-4d5c-9799-98b7b7ffaee5/philadelphia-76ers-association-edition-2022-23-dri-fit-nba-swingman-jersey-lmDSv3.png",  
    amt: 50,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "M",
    },
    {
      id: 24,
      name: "suns",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/528866ce-f825-40f4-b7a1-98203d98858e/phoenix-suns-icon-edition-dri-fit-nba-swingman-shorts-H7FPfm.png",  
    amt: 50,
    // <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
    {
      id: 25,
      name: "blazers",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/2cd38322-8267-4398-b747-c023595b5023/portland-trail-blazers-city-edition-mens-dri-fit-nba-swingman-shorts-j97cKs.png",  
    amt: 65,
    // <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
  
    {
      id: 26,
      name: "kings",
  img: "https://www.21exclusives.com/cdn/shop/products/645e0236-0f9b-4026-a297-4161cfe42624.webp?v=1664593802&width=1445", 
     amt: 75,
      //<!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "L",
    },
  
    {
      id: 27,
      name: "spurs",
  img: "https://cdn11.bigcommerce.com/s-bjbio4l8pu/images/stencil/1280x1280/products/2216/2870/DB4151-100-PHSFH001-NDS-A__99120.1647543985.jpg?c=2", 
     amt: 100,
    //  <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "S",
    },
    {
      id: 28,
      name: "raptors",
  img: "https://andscape.com/wp-content/uploads/2019/02/GettyImages-510299094.jpg?w=700",  
    amt: 100,
     // <!-- team: "Lakers",-->
      catagory: "Shoes",
      size: "L",
    },
    {
      id: 29,
      name: "jazz",
  img: "https://kslsports.com/wp-content/uploads/2019/10/Mailman-D.O.N-Issue-1-Adidas-Donovan-Mitchell.png", 
     amt: 150,
      //<!-- team: "Lakers",-->
      catagory: "Shoes",
      size: "L",
    },
  
    {
      id: 30,
      name: "wizards",
  img: "https://sneakernews.com/wp-content/uploads/2022/09/air-jordan-3-wizards-ct8532-148-release-date.jpg", 
     amt: 150,
     // <!-- team: "Lakers",-->,
      catagory: "Shoes",
      size: "S",
    },
  {
      id: 31,
      name: "Lakers",
      img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,b_rgb:f5f5f5/9acdb733-1ae2-4e49-8268-399c0cc4b46e/los-angeles-lakers-icon-edition-2022-23-dri-fit-nba-swingman-jersey-h7dqgF.png",
      amt: 30,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "M",
    },
  
    {
      id: 32,
      name: "Lakers",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,b_rgb:f5f5f5/9acdb733-1ae2-4e49-8268-399c0cc4b46e/los-angeles-lakers-icon-edition-2022-23-dri-fit-nba-swingman-jersey-h7dqgF.png",
      amt: 50,
     // <!-- team: "Lakers",-->
      catagory: "Shirts",
      size: "L",
    },
  
    {
      id: 33,
      name: "Lakers",
  img: "https://cdn-images.farfetch-contents.com/16/26/77/25/16267725_31319769_600.jpg",  
    amt: 50,
     // <!-- team: "Lakers",-->
      catagory: "Shoes",
      size: "S",
    },
    {
      id: 34,
      name: "Lakers",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/bfe906f3-0ff3-461b-856c-f95536754349/los-angeles-lakers-icon-edition-nba-swingman-shorts-0FdZ1b.png",  
    amt: 50,
    // <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "L",
    },
    {
      id: 35,
      name: "Lakers",
  img: "https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/bfe906f3-0ff3-461b-856c-f95536754349/los-angeles-lakers-icon-edition-nba-swingman-shorts-0FdZ1b.png",  
    amt: 65,
    // <!-- team: "Lakers",-->
      catagory: "Shorts",
      size: "M",
    },
  
    
   
    
  ];
  
  
  
  
  
  
  
  const sizeSelect = document.querySelector("#sizeSelect");
  
  sizeSelect.addEventListener("change", () => {
    const selectedSize = sizeSelect.value;
    if (selectedSize === "All") {
      displayProducts(data);
    } else {
      displayProducts(data.filter((product) => product.size === selectedSize));
    }
  });
  
  
  const priceSortSelect = document.querySelector("#priceSort");
  
  priceSortSelect.addEventListener("change", () => {
    const selectedSort = priceSortSelect.value;
    if (selectedSort === "lowToHigh") {
      displayProducts(data.sort((a, b) => a.amt - b.amt));
    } else if (selectedSort === "highToLow") {
      displayProducts(data.sort((a, b) => b.amt - a.amt));
    } else {
      displayProducts(data); // Default sorting (as per your original code)
    }
  });
  
  
  const teamFilterSelect = document.querySelector("#teamFilter");
  
  teamFilterSelect.addEventListener("change", () => {
    const selectedTeam = teamFilterSelect.value;
    if (selectedTeam === "All") {
      displayProducts(data);
    } else {
      displayProducts(data.filter((product) => product.name.toLowerCase() === selectedTeam.toLowerCase()));
    }
  });
  
  
  
  
  
  
  
  
  const productsContainer = document.querySelector(".products");
  const categoryList = document.querySelector(".category-list");
  
  function displayProducts(products) {
    if (products.length > 0) {
      const product_details = products
        .map(
          (product) => `
    <div class="product">
    <div class="img">
      <img src="${product.img}" alt="${product.name}" />
    </div>
    <div class="product-details">
      <span class="name">${product.name}</span>
      <span class="amt">${product.amt} $</span>
      <span class="size">${product.size}</span>
     <!--  <span class="team">${product.team}</span>   להוסיף קבוצה -->
      
    </div>
  </div>`
        )
        .join("");
  
      productsContainer.innerHTML = product_details;
    } else {
      productsContainer.innerHTML = "<h1>No Products Available</h1>";
    }
  }
  
  function setCategories() {
    const allCategories = data.map((product) => product.catagory);
    //console.log(allCategories);
    const catagories = [
      "All",
      ...allCategories.filter((product, index) => {
        return allCategories.indexOf(product) === index;
      }),
    ];
    //console.log(catagories);
    categoryList.innerHTML = catagories.map((catagory) => `<li>${catagory}</li>`).join("");
  
    categoryList.addEventListener("click", (e) => {
      const selectedCatagory = e.target.textContent;
      selectedCatagory === "All" ? displayProducts(data) : displayProducts(data.filter((product) => product.catagory == selectedCatagory));
    });
  }
  const priceRange = document.querySelector("#priceRange");
  const priceValue = document.querySelector(".priceValue");
  
  function setPrices() {
    const priceList = data.map((product) => product.amt);
    const minPrice = Math.min(...priceList);
    const maxPrice = Math.max(...priceList);
    priceRange.min = minPrice;
    priceRange.max = maxPrice;
    priceValue.textContent =  maxPrice +"$";
  
    priceRange.addEventListener("input", (e) => {
      priceValue.textContent =  e.target.value +"$";
      displayProducts(data.filter((product) => product.amt <= e.target.value));
    });
  }
  
  const txtSearch = document.querySelector("#txtSearch");
  txtSearch.addEventListener("keyup", (e) => {
    const value = e.target.value.toLowerCase().trim();
    if (value) {
      displayProducts(data.filter((product) => product.name.toLowerCase().indexOf(value) !== -1));
    } else {
      displayProducts(data);
    }
  });
  
  displayProducts(data);
  setCategories();
  setPrices();
  
  
  
  
  const selectedFilters = {
    size: "All",
    priceSort: "default",
    teamFilter: "All",
    category: "All",
    price: 9999, // Set an initial high value
  };
  
  sizeSelect.addEventListener("change", () => {
    selectedFilters.size = sizeSelect.value;
    updateDisplayedProducts();
  });
  
  priceSortSelect.addEventListener("change", () => {
    selectedFilters.priceSort = priceSortSelect.value;
    updateDisplayedProducts();
  });
  
  teamFilterSelect.addEventListener("change", () => {
    selectedFilters.teamFilter = teamFilterSelect.value;
    updateDisplayedProducts();
  });
  
  categoryList.addEventListener("click", (e) => {
    selectedFilters.category = e.target.textContent;
    updateDisplayedProducts();
  });
  
  priceRange.addEventListener("input", (e) => {
    selectedFilters.price = parseInt(e.target.value);
    updateDisplayedProducts();
  });
  
  
  function updateDisplayedProducts() {
    let filteredProducts = data;
  
    if (selectedFilters.size !== "All") {
      filteredProducts = filteredProducts.filter(product => product.size === selectedFilters.size);
    }
  
    if (selectedFilters.teamFilter !== "All") {
      filteredProducts = filteredProducts.filter(product => product.name.toLowerCase() === selectedFilters.teamFilter.toLowerCase());
    }
  
    if (selectedFilters.category !== "All") {
      filteredProducts = filteredProducts.filter(product => product.catagory === selectedFilters.category);
    }
  
    if (selectedFilters.priceSort === "lowToHigh") {
      filteredProducts = filteredProducts.sort((a, b) => a.amt - b.amt);
    } else if (selectedFilters.priceSort === "highToLow") {
      filteredProducts = filteredProducts.sort((a, b) => b.amt - a.amt);
    }
  
    filteredProducts = filteredProducts.filter(product => product.amt <= selectedFilters.price);
  
    displayProducts(filteredProducts);
  }
  
  selectedFilters.size = "All";
  selectedFilters.priceSort = "default";
  selectedFilters.teamFilter = "All";
  selectedFilters.category = "All";
  selectedFilters.price = 9999;
  
  updateDisplayedProducts();
  
  
  const resetFiltersButton = document.querySelector("#resetFiltersButton");
  
  resetFiltersButton.addEventListener("click", () => {
    selectedFilters.size = "All";
    selectedFilters.priceSort = "default";
    selectedFilters.teamFilter = "All";
    selectedFilters.category = "All";
    selectedFilters.price = 9999;
  
    // Reset the filter and sort select elements to their default values
    sizeSelect.value = "All";
    priceSortSelect.value = "default";
    teamFilterSelect.value = "All";
  
    // Reset the price range input to its default value
    priceRange.value = selectedFilters.price;
  
    // Update displayed products with reset filters
    updateDisplayedProducts();
  });
  
  